(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{104:function(e){e.exports=JSON.parse('{"Loading...":"Loading...","React Coding Challenge on Guru":"React Coding Challenge on Guru","Leaving From":"Leaving From","Going To":"Going To","Leaving Day":"Leaving Day","Return Day":"Return Day","Passenger":"Passenger","Search":"Search","Select a passenger":"Select a passenger","Select a departure":"Select a departure","No result":"No result","Price":"Price"}')},105:function(e){e.exports=JSON.parse('{"Loading...":"Chargement...","React Coding Challenge on Guru":"R\xe9agir au d\xe9fi de codage sur Guru ","Leaving From":"Partir de","Going To":"Aller \xe0","Leaving Day":"Jour de d\xe9part","Return Day":"Jour de retour","Passenger":"Passager","Search":"Chercher","Select a passenger":"S\xe9lectionnez un passager","Select a departure":"S\xe9lectionnez un d\xe9part","No result":"No result","Price":"Price"}')},110:function(e,a,t){e.exports=t(173)},173:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(13),c=t.n(l),o=t(14),i=t(179),s=t(51),u=t(63),d=t.n(u),m=t(70),v=t.n(m),g={loading:"Loading...",title:"React Coding Challenge on Guru",leavingFrom:"Leaving From",goingTo:"Going To",leavingDay:"Leaving Day",returnDay:"Return Day",passenger:"Passenger",Search:"Search",selectPassenger:"Select a passenger",SelectDeparture:"Select a departure",noResult:"No result",price:"Price"},p=function(){var e=Object(i.a)().t;return r.a.createElement("header",{className:v.a.Header},r.a.createElement("div",{className:v.a.title},e(g.title)))},b=function(e){var a=e.navbar,t=e.content;return r.a.createElement("div",{className:d.a.Container},r.a.createElement(p,null),r.a.createElement("div",{className:d.a.Navbar},a),r.a.createElement("div",{className:d.a.Content},t))},_=t(39),E=t.n(_),S=t(30),f=t.n(S),N=t(177),h=t(107),C=t(178),O=t(89),j=t.n(O),y=t(18),L=t.n(y),D=t(19),F=t.n(D),R=function(e){var a=e.res,t=Object(i.a)().t;return r.a.createElement("div",{className:F.a.Section},r.a.createElement("div",{className:F.a.Info},r.a.createElement("a",{href:a.operatorUrl},r.a.createElement("img",{src:a.operatorLogoUrl,className:F.a.Log,alt:"Operator Logo"})),r.a.createElement("div",{className:F.a.title},t(g.leavingFrom),":"),r.a.createElement("div",{className:F.a.description},a.departure),r.a.createElement("div",{className:F.a.description},a.departureAddress),r.a.createElement("div",{className:F.a.description},a.departureTime),r.a.createElement("div",{className:F.a.title},t(g.goingTo),":"),r.a.createElement("div",{className:F.a.description},a.arrival),r.a.createElement("div",{className:F.a.description},a.arrivalAddress),r.a.createElement("div",{className:F.a.description},a.arrivalTime),r.a.createElement("div",{className:F.a.title},t(g.price),": ",a.price," ",a.currency)))},P=t(176),I=t(90),T=t.n(I),G=function(){var e=Object(i.a)().t;return r.a.createElement("div",{className:T.a.Loading},r.a.createElement("div",null,e(g.loading)),r.a.createElement(P.a,{size:"large"}))},k=t(92),x=t.n(k).a.create({baseURL:"https://napi.busbud.com/",headers:{"Content-Type":"application/json",Accept:"application/vnd.busbud+json; version=2; profile=https://schema.busbud.com/v2/","X-Busbud-Token":"PARTNER_BaASYYHxTxuOINEOMWq5GA"}}),A=[{value:"dr5reg",label:"New York"},{value:"f25dvk",label:"Montreal"},{value:"dqcjqb",label:"Washington"}],U=[{value:"adult",label:"Adult"},{value:"child",label:"Child"},{value:"senior",label:"Senior"}],w={setTimeout:3e3},z=function(e,a,t){try{return e.map((function(e){var n,r,l=a.find((function(a){return a.id===e.origin_location_id})),c=a.find((function(a){return a.id===e.destination_location_id})),o=t.find((function(a){return a.id===e.operator_id}));return{departure:l.name,departureAddress:l.address.join(","),departureTime:e.departure_time.substring(11,19),arrival:c.name,arrivalAddress:c.address.join(","),arrivalTime:e.arrival_time.substring(11,19),price:((null===(n=e.prices)||void 0===n?void 0:n.total)/100).toFixed(2),currency:null===(r=e.prices)||void 0===r?void 0:r.currency,operatorUrl:o.url,operatorLogoUrl:o.logo_url}}))}catch(n){return null}},H=function(e){var a=e.lang,t=e.currency,l=Object(i.a)().t,c=Object(n.useState)(A[0].value),s=Object(o.a)(c,2),u=s[0],d=s[1],m=Object(n.useState)(A[0].value),v=Object(o.a)(m,2),p=v[0],b=v[1],_=(new Date).toISOString().substring(0,10),S=Object(n.useState)(_),O=Object(o.a)(S,2),y=O[0],D=O[1],F=Object(n.useState)(1),P=Object(o.a)(F,2),I=P[0],T=(P[1],Object(n.useState)(0)),k=Object(o.a)(T,2),H=k[0],J=(k[1],Object(n.useState)(0)),B=Object(o.a)(J,2),V=B[0],q=(B[1],Object(n.useState)(!1)),K=Object(o.a)(q,2),M=K[0],W=K[1],Y=Object(n.useState)([]),X=Object(o.a)(Y,2),$=X[0],Q=X[1],Z=Object(n.useState)([]),ee=Object(o.a)(Z,2),ae=ee[0],te=ee[1],ne=Object(n.useState)([]),re=Object(o.a)(ne,2),le=re[0],ce=re[1],oe=function e(n){x.get("/x-departures/".concat(u,"/").concat(p,"/").concat(y,"/poll"),{params:{adult:I,child:H,senior:V,lang:a,currency:t,index:n}}).then((function(a){Q((function(e){return Object.assign(e,a.data.departures)})),te((function(e){return Object.assign(e,a.data.locations)})),ce((function(e){return Object.assign(e,a.data.operators)})),a.data.complete?W(!1):setTimeout((function(){e($.length)}),w.setTimeout)})).catch((function(e){W(!1),console.log(e)}))},ie=r.a.createElement(G,null);if(!M){var se=r.a.createElement("div",null,l(g.noResult)),ue=z($,ae,le);ue&&ue.length&&(se=ue.map((function(e){return r.a.createElement(R,{key:j()(),res:e})}))),ie=r.a.createElement("div",{className:L.a.ShowResult},se)}return r.a.createElement("div",{className:L.a.Content},r.a.createElement("div",{className:L.a.Form},r.a.createElement("div",{className:L.a.FormGroup},r.a.createElement("div",{className:L.a.FormItem},r.a.createElement("div",null,l(g.leavingFrom)),r.a.createElement(E.a,{options:A,value:u,onChange:function(e){return d(null===e||void 0===e?void 0:e.value)},placeholder:l(g.SelectDeparture)})),r.a.createElement("div",{className:L.a.FormItem},r.a.createElement("div",null,l(g.goingTo)),r.a.createElement(E.a,{options:A,value:p,onChange:function(e){return b(null===e||void 0===e?void 0:e.value)},placeholder:l(g.SelectDeparture)})),r.a.createElement("div",{className:L.a.FormItem},r.a.createElement("div",null,l(g.leavingDay)),r.a.createElement(N.a,{className:L.a.DatePicker,defaultValue:f()(y),onChange:function(e){D(null===e||void 0===e?void 0:e.toISOString().substring(0,10))}})),r.a.createElement("div",{className:L.a.FormItem},r.a.createElement("div",null,l(g.returnDay)),r.a.createElement(N.a,{className:L.a.DatePicker})),r.a.createElement("div",{className:L.a.FormItem},r.a.createElement("div",null,l(g.passenger)),r.a.createElement(E.a,{options:U,value:U[0].value,disabled:!0,placeholder:l(g.selectPassenger)})),r.a.createElement(h.a,{className:L.a.SearchBtn,onClick:function(){return Q([]),te([]),ce([]),W(!0),void oe(0)},type:"primary",icon:r.a.createElement(C.a,null)},l(g.Search)))),ie)},J=t(65),B=t.n(J),V=[{value:"en",label:"English"},{value:"fr",label:"Fran\xe7ais"}],q=[{value:"USD",label:"USD $"},{value:"EUR",label:"EUR \u20ac"}],K=function(e){var a=e.lang,t=e.currency,n=e.nabvarChanged;return r.a.createElement("div",{className:B.a.Navbar},r.a.createElement(E.a,{className:B.a.NavbarItem,value:t,options:q,onChange:function(e){return t=e.value,void n(a,t);var t},placeholder:"Select a Currency"}),r.a.createElement(E.a,{className:B.a.NavbarItem,value:a,options:V,onChange:function(e){return a=e.value,void n(a,t);var a},placeholder:"Select a Language"}))};var M=function(){Object(i.a)().i18n;var e=Object(n.useState)(V[0].value),a=Object(o.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(q[0].value),u=Object(o.a)(c,2),d=u[0],m=u[1];function v(e,a){l(e),m(a)}return Object(n.useEffect)((function(){s.a.changeLanguage(t)}),[t]),r.a.createElement(b,{navbar:r.a.createElement(K,{lang:t,currency:d,nabvarChanged:v}),content:r.a.createElement(H,{lang:t,currency:d,nabvarChanged:v})})},W=(t(171),t(172),t(52)),Y={en:{translation:t(104)},fr:{translation:t(105)}};s.a.use(W.e).init({resources:Y,lng:"en",fallbackLng:"fr",debug:!0,keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},react:{wait:!0}});s.a;c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root"))},18:function(e,a,t){e.exports={Content:"Content_Content__1SG4W",Form:"Content_Form__1d26m",SearchBtn:"Content_SearchBtn__3DKPS",FormGroup:"Content_FormGroup__2i2r0",FormItem:"Content_FormItem__15rAV",DatePicker:"Content_DatePicker__frVqO",ShowResult:"Content_ShowResult__2fREr"}},19:function(e,a,t){e.exports={Section:"Section_Section__2yFUz",Info:"Section_Info__3Vn3R",Log:"Section_Log__1ay0k",title:"Section_title__3s0zw",description:"Section_description__3zU0i"}},63:function(e,a,t){e.exports={Container:"Container_Container__2fKfE",Navbar:"Container_Navbar__Csz4k",Content:"Container_Content___jREG"}},65:function(e,a,t){e.exports={Navbar:"Navbar_Navbar__10H2h",NavbarItem:"Navbar_NavbarItem__3v-ro"}},70:function(e,a,t){e.exports={Header:"Header_Header__3gVls",title:"Header_title__moGXK"}},90:function(e,a,t){e.exports={Loading:"Loading_Loading__3nE0J"}}},[[110,1,2]]]);
//# sourceMappingURL=main.8381d0a8.chunk.js.map